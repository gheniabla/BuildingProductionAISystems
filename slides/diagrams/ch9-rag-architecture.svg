<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 795.5px; background-color: transparent;" viewBox="0 0 795.5 1038" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .client&gt;*{fill:#3B82F6!important;stroke:#1D4ED8!important;color:#FFFFFF!important;}#my-svg .client span{fill:#3B82F6!important;stroke:#1D4ED8!important;color:#FFFFFF!important;}#my-svg .client tspan{fill:#FFFFFF!important;}#my-svg .gateway&gt;*{fill:#EF4444!important;stroke:#B91C1C!important;color:#FFFFFF!important;}#my-svg .gateway span{fill:#EF4444!important;stroke:#B91C1C!important;color:#FFFFFF!important;}#my-svg .gateway tspan{fill:#FFFFFF!important;}#my-svg .service&gt;*{fill:#4F46E5!important;stroke:#3730A3!important;color:#FFFFFF!important;}#my-svg .service span{fill:#4F46E5!important;stroke:#3730A3!important;color:#FFFFFF!important;}#my-svg .service tspan{fill:#FFFFFF!important;}#my-svg .data&gt;*{fill:#10B981!important;stroke:#047857!important;color:#FFFFFF!important;}#my-svg .data span{fill:#10B981!important;stroke:#047857!important;color:#FFFFFF!important;}#my-svg .data tspan{fill:#FFFFFF!important;}#my-svg .external&gt;*{fill:#F59E0B!important;stroke:#D97706!important;color:#FFFFFF!important;}#my-svg .external span{fill:#F59E0B!important;stroke:#D97706!important;color:#FFFFFF!important;}#my-svg .external tspan{fill:#FFFFFF!important;}#my-svg .observability&gt;*{fill:#8B5CF6!important;stroke:#6D28D9!important;color:#FFFFFF!important;}#my-svg .observability span{fill:#8B5CF6!important;stroke:#6D28D9!important;color:#FFFFFF!important;}#my-svg .observability tspan{fill:#FFFFFF!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M346.555,46.472L316.411,53.227C286.268,59.981,225.982,73.491,195.839,83.745C165.695,94,165.695,101,165.695,104.5L165.695,108" id="L_Q_QExp_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Q_QExp_0" data-points="W3sieCI6MzQ2LjU1NDY4NzUsInkiOjQ2LjQ3MjEwNzE5NDU1OTQ3fSx7IngiOjE2NS42OTUzMTI1LCJ5Ijo4N30seyJ4IjoxNjUuNjk1MzEyNSwieSI6MTEyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M397.75,62L397.75,66.167C397.75,70.333,397.75,78.667,397.75,86.333C397.75,94,397.75,101,397.75,104.5L397.75,108" id="L_Q_QEmb_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Q_QEmb_0" data-points="W3sieCI6Mzk3Ljc1LCJ5Ijo2Mn0seyJ4IjozOTcuNzUsInkiOjg3fSx7IngiOjM5Ny43NSwieSI6MTEyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M448.945,46.553L478.816,53.295C508.688,60.036,568.43,73.518,598.301,83.759C628.172,94,628.172,101,628.172,104.5L628.172,108" id="L_Q_QRew_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Q_QRew_0" data-points="W3sieCI6NDQ4Ljk0NTMxMjUsInkiOjQ2LjU1MzQwMDY5MTY2NjF9LHsieCI6NjI4LjE3MTg3NSwieSI6ODd9LHsieCI6NjI4LjE3MTg3NSwieSI6MTEyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M165.695,166L165.695,170.167C165.695,174.333,165.695,182.667,174.849,190.738C184.002,198.81,202.309,206.62,211.462,210.525L220.616,214.43" id="L_QExp_RL_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_QExp_RL_0" data-points="W3sieCI6MTY1LjY5NTMxMjUsInkiOjE2Nn0seyJ4IjoxNjUuNjk1MzEyNSwieSI6MTkxfSx7IngiOjIyNC4yOTQ5ODEwNjA2MDYwNiwieSI6MjE2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M397.75,166L397.75,170.167C397.75,174.333,397.75,182.667,397.75,190.333C397.75,198,397.75,205,397.75,208.5L397.75,212" id="L_QEmb_RL_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_QEmb_RL_0" data-points="W3sieCI6Mzk3Ljc1LCJ5IjoxNjZ9LHsieCI6Mzk3Ljc1LCJ5IjoxOTF9LHsieCI6Mzk3Ljc1LCJ5IjoyMTZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M628.172,166L628.172,170.167C628.172,174.333,628.172,182.667,619.087,190.737C610.001,198.807,591.83,206.614,582.745,210.517L573.66,214.421" id="L_QRew_RL_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_QRew_RL_0" data-points="W3sieCI6NjI4LjE3MTg3NSwieSI6MTY2fSx7IngiOjYyOC4xNzE4NzUsInkiOjE5MX0seyJ4Ijo1NjkuOTg0NTMyODI4MjgyOCwieSI6MjE2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M397.75,364L397.75,368.167C397.75,372.333,397.75,380.667,397.75,388.333C397.75,396,397.75,403,397.75,406.5L397.75,410" id="L_RL_RK_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RL_RK_0" data-points="W3sieCI6Mzk3Ljc1LCJ5IjozNjR9LHsieCI6Mzk3Ljc1LCJ5IjozODl9LHsieCI6Mzk3Ljc1LCJ5Ijo0MTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M397.75,562L397.75,566.167C397.75,570.333,397.75,578.667,397.75,586.333C397.75,594,397.75,601,397.75,604.5L397.75,608" id="L_RK_CA_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RK_CA_0" data-points="W3sieCI6Mzk3Ljc1LCJ5Ijo1NjJ9LHsieCI6Mzk3Ljc1LCJ5Ijo1ODd9LHsieCI6Mzk3Ljc1LCJ5Ijo2MTJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M397.75,832L397.75,836.167C397.75,840.333,397.75,848.667,397.75,856.333C397.75,864,397.75,871,397.75,874.5L397.75,878" id="L_CA_GEN_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CA_GEN_0" data-points="W3sieCI6Mzk3Ljc1LCJ5Ijo4MzJ9LHsieCI6Mzk3Ljc1LCJ5Ijo4NTd9LHsieCI6Mzk3Ljc1LCJ5Ijo4ODJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_Q_QExp_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Q_QEmb_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Q_QRew_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_QExp_RL_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_QEmb_RL_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_QRew_RL_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_RL_RK_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_RK_CA_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_CA_GEN_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(0, 874)"><g class="clusters"><g class="cluster" id="GEN" data-look="classic"><rect style="" x="8" y="8" width="779.5" height="148"/><g class="cluster-label" transform="translate(352.6953125, 8)"><foreignObject width="90.109375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>GENERATION</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M305.5,82L311.75,82C318,82,330.5,82,342.333,82C354.167,82,365.333,82,370.917,82L376.5,82" id="L_Prompt_LLM_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Prompt_LLM_0" data-points="W3sieCI6MzA1LjUsInkiOjgyfSx7IngiOjM0MywieSI6ODJ9LHsieCI6MzgwLjUsInkiOjgyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M468.063,82L474.313,82C480.563,82,493.063,82,504.896,82C516.729,82,527.896,82,533.479,82L539.063,82" id="L_LLM_Resp_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_LLM_Resp_0" data-points="W3sieCI6NDY4LjA2MjUsInkiOjgyfSx7IngiOjUwNS41NjI1LCJ5Ijo4Mn0seyJ4Ijo1NDMuMDYyNSwieSI6ODJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_Prompt_LLM_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_LLM_Resp_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default external" id="flowchart-Prompt-25" transform="translate(175.5, 82)"><rect class="basic label-container" style="fill:#F59E0B !important;stroke:#D97706 !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>System Prompt + Context + Q</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-LLM-26" transform="translate(424.28125, 82)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-43.78125" y="-27" width="87.5625" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-13.78125, -12)"><rect/><foreignObject width="27.5625" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>LLM</p></span></div></foreignObject></g></g><g class="node default client" id="flowchart-Resp-27" transform="translate(646.53125, 82)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-103.46875" y="-27" width="206.9375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-73.46875, -12)"><rect/><foreignObject width="146.9375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Response + Citations</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(222.25, 604)"><g class="clusters"><g class="cluster" id="CA" data-look="classic"><rect style="" x="8" y="8" width="335" height="220"/><g class="cluster-label" transform="translate(105.8828125, 8)"><foreignObject width="139.234375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>CONTEXT ASSEMBLY</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default observability" id="flowchart-CADesc-22" transform="translate(175.5, 118)"><rect class="basic label-container" style="fill:#8B5CF6 !important;stroke:#6D28D9 !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Context window management<br />Chunk ordering<br />Source attribution<br />Token counting</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(126.765625, 406)"><g class="clusters"><g class="cluster" id="RK" data-look="classic"><rect style="" x="8" y="8" width="525.96875" height="148"/><g class="cluster-label" transform="translate(215.3203125, 8)"><foreignObject width="111.328125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>RANKING LAYER</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M218.141,82L224.391,82C230.641,82,243.141,82,254.974,82C266.807,82,277.974,82,283.557,82L289.141,82" id="L_RR_CF_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RR_CF_0" data-points="W3sieCI6MjE4LjE0MDYyNSwieSI6ODJ9LHsieCI6MjU1LjY0MDYyNSwieSI6ODJ9LHsieCI6MjkzLjE0MDYyNSwieSI6ODJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_RR_CF_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default service" id="flowchart-RR-18" transform="translate(131.8203125, 82)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-86.3203125" y="-39" width="172.640625" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-56.3203125, -24)"><rect/><foreignObject width="112.640625" height="48"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Reranker Model<br />(Cross-Encoder)</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-CF-19" transform="translate(394.8046875, 82)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-101.6640625" y="-39" width="203.328125" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-71.6640625, -24)"><rect/><foreignObject width="143.328125" height="48"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Contextual Filtering<br />(Metadata, Access)</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(32.5078125, 208)"><g class="clusters"><g class="cluster" id="RL" data-look="classic"><rect style="" x="8" y="8" width="714.484375" height="148"/><g class="cluster-label" transform="translate(304.296875, 8)"><foreignObject width="121.890625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>RETRIEVAL LAYER</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M204.203,82L210.453,82C216.703,82,229.203,82,241.036,82C252.87,82,264.036,82,269.62,82L275.203,82" id="L_VS_KS_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_VS_KS_0" data-points="W3sieCI6MjA0LjIwMzEyNSwieSI6ODJ9LHsieCI6MjQxLjcwMzEyNSwieSI6ODJ9LHsieCI6Mjc5LjIwMzEyNSwieSI6ODJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M452.688,82L458.938,82C465.188,82,477.688,82,489.521,82C501.354,82,512.521,82,518.104,82L523.688,82" id="L_KS_HF_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_KS_HF_0" data-points="W3sieCI6NDUyLjY4NzUsInkiOjgyfSx7IngiOjQ5MC4xODc1LCJ5Ijo4Mn0seyJ4Ijo1MjcuNjg3NSwieSI6ODJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_VS_KS_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_KS_HF_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default data" id="flowchart-VS-13" transform="translate(124.8515625, 82)"><rect class="basic label-container" style="fill:#10B981 !important;stroke:#047857 !important" x="-79.3515625" y="-39" width="158.703125" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-49.3515625, -24)"><rect/><foreignObject width="98.703125" height="48"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Vector Search<br />(Semantic)</p></span></div></foreignObject></g></g><g class="node default data" id="flowchart-KS-14" transform="translate(365.9453125, 82)"><rect class="basic label-container" style="fill:#10B981 !important;stroke:#047857 !important" x="-86.7421875" y="-39" width="173.484375" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-56.7421875, -24)"><rect/><foreignObject width="113.484375" height="48"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Keyword Search<br />(BM25/Sparse)</p></span></div></foreignObject></g></g><g class="node default data" id="flowchart-HF-15" transform="translate(606.3359375, 82)"><rect class="basic label-container" style="fill:#10B981 !important;stroke:#047857 !important" x="-78.6484375" y="-39" width="157.296875" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-48.6484375, -24)"><rect/><foreignObject width="97.296875" height="48"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Hybrid Fusion<br />(RRF/Linear)</p></span></div></foreignObject></g></g></g></g><g class="node default client" id="flowchart-Q-0" transform="translate(397.75, 35)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-51.1953125" y="-27" width="102.390625" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-21.1953125, -12)"><rect/><foreignObject width="42.390625" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Query</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-QExp-2" transform="translate(165.6953125, 139)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-89.1171875" y="-27" width="178.234375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-59.1171875, -12)"><rect/><foreignObject width="118.234375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Query Expansion</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-QEmb-4" transform="translate(397.75, 139)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-92.9375" y="-27" width="185.875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-62.9375, -12)"><rect/><foreignObject width="125.875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Query Embedding</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-QRew-6" transform="translate(628.171875, 139)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-87.484375" y="-27" width="174.96875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-57.484375, -12)"><rect/><foreignObject width="114.96875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Query Rewriting</p></span></div></foreignObject></g></g></g></g></g></svg>