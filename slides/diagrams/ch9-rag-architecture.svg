<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 1011.56px; background-color: transparent;" viewBox="0 0 1011.5625 1062" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .client&gt;*{fill:#3B82F6!important;stroke:#1D4ED8!important;color:#FFFFFF!important;}#my-svg .client span{fill:#3B82F6!important;stroke:#1D4ED8!important;color:#FFFFFF!important;}#my-svg .client tspan{fill:#FFFFFF!important;}#my-svg .gateway&gt;*{fill:#EF4444!important;stroke:#B91C1C!important;color:#FFFFFF!important;}#my-svg .gateway span{fill:#EF4444!important;stroke:#B91C1C!important;color:#FFFFFF!important;}#my-svg .gateway tspan{fill:#FFFFFF!important;}#my-svg .service&gt;*{fill:#4F46E5!important;stroke:#3730A3!important;color:#FFFFFF!important;}#my-svg .service span{fill:#4F46E5!important;stroke:#3730A3!important;color:#FFFFFF!important;}#my-svg .service tspan{fill:#FFFFFF!important;}#my-svg .data&gt;*{fill:#10B981!important;stroke:#047857!important;color:#FFFFFF!important;}#my-svg .data span{fill:#10B981!important;stroke:#047857!important;color:#FFFFFF!important;}#my-svg .data tspan{fill:#FFFFFF!important;}#my-svg .external&gt;*{fill:#F59E0B!important;stroke:#D97706!important;color:#FFFFFF!important;}#my-svg .external span{fill:#F59E0B!important;stroke:#D97706!important;color:#FFFFFF!important;}#my-svg .external tspan{fill:#FFFFFF!important;}#my-svg .observability&gt;*{fill:#8B5CF6!important;stroke:#6D28D9!important;color:#FFFFFF!important;}#my-svg .observability span{fill:#8B5CF6!important;stroke:#6D28D9!important;color:#FFFFFF!important;}#my-svg .observability tspan{fill:#FFFFFF!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M454.586,46.472L424.443,53.227C394.299,59.981,334.013,73.491,303.87,83.745C273.727,94,273.727,101,273.727,104.5L273.727,108" id="L_Q_QExp_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Q_QExp_0" data-points="W3sieCI6NDU0LjU4NTkzNzUsInkiOjQ2LjQ3MjEwNzE5NDU1OTQ3fSx7IngiOjI3My43MjY1NjI1LCJ5Ijo4N30seyJ4IjoyNzMuNzI2NTYyNSwieSI6MTEyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M505.781,62L505.781,66.167C505.781,70.333,505.781,78.667,505.781,86.333C505.781,94,505.781,101,505.781,104.5L505.781,108" id="L_Q_QEmb_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Q_QEmb_0" data-points="W3sieCI6NTA1Ljc4MTI1LCJ5Ijo2Mn0seyJ4Ijo1MDUuNzgxMjUsInkiOjg3fSx7IngiOjUwNS43ODEyNSwieSI6MTEyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M556.977,46.553L586.848,53.295C616.719,60.036,676.461,73.518,706.332,83.759C736.203,94,736.203,101,736.203,104.5L736.203,108" id="L_Q_QRew_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Q_QRew_0" data-points="W3sieCI6NTU2Ljk3NjU2MjUsInkiOjQ2LjU1MzQwMDY5MTY2NjF9LHsieCI6NzM2LjIwMzEyNSwieSI6ODd9LHsieCI6NzM2LjIwMzEyNSwieSI6MTEyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M273.727,166L273.727,170.167C273.727,174.333,273.727,182.667,282.88,190.738C292.033,198.81,310.34,206.62,319.494,210.525L328.647,214.43" id="L_QExp_RL_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_QExp_RL_0" data-points="W3sieCI6MjczLjcyNjU2MjUsInkiOjE2Nn0seyJ4IjoyNzMuNzI2NTYyNSwieSI6MTkxfSx7IngiOjMzMi4zMjYyMzEwNjA2MDYwNiwieSI6MjE2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M505.781,166L505.781,170.167C505.781,174.333,505.781,182.667,505.781,190.333C505.781,198,505.781,205,505.781,208.5L505.781,212" id="L_QEmb_RL_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_QEmb_RL_0" data-points="W3sieCI6NTA1Ljc4MTI1LCJ5IjoxNjZ9LHsieCI6NTA1Ljc4MTI1LCJ5IjoxOTF9LHsieCI6NTA1Ljc4MTI1LCJ5IjoyMTZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M736.203,166L736.203,170.167C736.203,174.333,736.203,182.667,727.118,190.737C718.032,198.807,699.862,206.614,690.776,210.517L681.691,214.421" id="L_QRew_RL_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_QRew_RL_0" data-points="W3sieCI6NzM2LjIwMzEyNSwieSI6MTY2fSx7IngiOjczNi4yMDMxMjUsInkiOjE5MX0seyJ4Ijo2NzguMDE1NzgyODI4MjgyOCwieSI6MjE2fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M505.781,364L505.781,368.167C505.781,372.333,505.781,380.667,505.781,388.333C505.781,396,505.781,403,505.781,406.5L505.781,410" id="L_RL_RK_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RL_RK_0" data-points="W3sieCI6NTA1Ljc4MTI1LCJ5IjozNjR9LHsieCI6NTA1Ljc4MTI1LCJ5IjozODl9LHsieCI6NTA1Ljc4MTI1LCJ5Ijo0MTR9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M505.781,586L505.781,590.167C505.781,594.333,505.781,602.667,505.781,610.333C505.781,618,505.781,625,505.781,628.5L505.781,632" id="L_RK_CA_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RK_CA_0" data-points="W3sieCI6NTA1Ljc4MTI1LCJ5Ijo1ODZ9LHsieCI6NTA1Ljc4MTI1LCJ5Ijo2MTF9LHsieCI6NTA1Ljc4MTI1LCJ5Ijo2MzZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M505.781,856L505.781,860.167C505.781,864.333,505.781,872.667,505.781,880.333C505.781,888,505.781,895,505.781,898.5L505.781,902" id="L_CA_GEN_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_CA_GEN_0" data-points="W3sieCI6NTA1Ljc4MTI1LCJ5Ijo4NTZ9LHsieCI6NTA1Ljc4MTI1LCJ5Ijo4ODF9LHsieCI6NTA1Ljc4MTI1LCJ5Ijo5MDZ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_Q_QExp_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Q_QEmb_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_Q_QRew_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_QExp_RL_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_QEmb_RL_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_QRew_RL_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_RL_RK_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_RK_CA_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_CA_GEN_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(108.03125, 898)"><g class="clusters"><g class="cluster" id="GEN" data-look="classic"><rect style="" x="8" y="8" width="779.5" height="148"/><g class="cluster-label" transform="translate(352.6953125, 8)"><foreignObject width="90.109375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>GENERATION</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M305.5,82L311.75,82C318,82,330.5,82,342.333,82C354.167,82,365.333,82,370.917,82L376.5,82" id="L_Prompt_LLM_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Prompt_LLM_0" data-points="W3sieCI6MzA1LjUsInkiOjgyfSx7IngiOjM0MywieSI6ODJ9LHsieCI6MzgwLjUsInkiOjgyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M468.063,82L474.313,82C480.563,82,493.063,82,504.896,82C516.729,82,527.896,82,533.479,82L539.063,82" id="L_LLM_Resp_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_LLM_Resp_0" data-points="W3sieCI6NDY4LjA2MjUsInkiOjgyfSx7IngiOjUwNS41NjI1LCJ5Ijo4Mn0seyJ4Ijo1NDMuMDYyNSwieSI6ODJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_Prompt_LLM_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_LLM_Resp_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default external" id="flowchart-Prompt-25" transform="translate(175.5, 82)"><rect class="basic label-container" style="fill:#F59E0B !important;stroke:#D97706 !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>System Prompt + Context + Q</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-LLM-26" transform="translate(424.28125, 82)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-43.78125" y="-27" width="87.5625" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-13.78125, -12)"><rect/><foreignObject width="27.5625" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>LLM</p></span></div></foreignObject></g></g><g class="node default client" id="flowchart-Resp-27" transform="translate(646.53125, 82)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-103.46875" y="-27" width="206.9375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-73.46875, -12)"><rect/><foreignObject width="146.9375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Response + Citations</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(330.28125, 628)"><g class="clusters"><g class="cluster" id="CA" data-look="classic"><rect style="" x="8" y="8" width="335" height="220"/><g class="cluster-label" transform="translate(105.8828125, 8)"><foreignObject width="139.234375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>CONTEXT ASSEMBLY</p></span></div></foreignObject></g></g></g><g class="edgePaths"/><g class="edgeLabels"/><g class="nodes"><g class="node default observability" id="flowchart-CADesc-22" transform="translate(175.5, 118)"><rect class="basic label-container" style="fill:#8B5CF6 !important;stroke:#6D28D9 !important" x="-130" y="-75" width="260" height="150"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -60)"><rect/><foreignObject width="200" height="120"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Context window management\nChunk ordering\nSource attribution\nToken counting</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(162.78125, 406)"><g class="clusters"><g class="cluster" id="RK" data-look="classic"><rect style="" x="8" y="8" width="670" height="172"/><g class="cluster-label" transform="translate(287.3359375, 8)"><foreignObject width="111.328125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>RANKING LAYER</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M305.5,94L311.75,94C318,94,330.5,94,342.333,94C354.167,94,365.333,94,370.917,94L376.5,94" id="L_RR_CF_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RR_CF_0" data-points="W3sieCI6MzA1LjUsInkiOjk0fSx7IngiOjM0MywieSI6OTR9LHsieCI6MzgwLjUsInkiOjk0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_RR_CF_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default service" id="flowchart-RR-18" transform="translate(175.5, 94)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Reranker Model\n(Cross-Encoder)</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-CF-19" transform="translate(510.5, 94)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -36)"><rect/><foreignObject width="200" height="72"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Contextual Filtering\n(Metadata, Access)</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(0, 208)"><g class="clusters"><g class="cluster" id="RL" data-look="classic"><rect style="" x="8" y="8" width="995.5625" height="148"/><g class="cluster-label" transform="translate(444.8359375, 8)"><foreignObject width="121.890625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>RETRIEVAL LAYER</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M296.063,82L302.313,82C308.563,82,321.063,82,332.896,82C344.729,82,355.896,82,361.479,82L367.063,82" id="L_VS_KS_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_VS_KS_0" data-points="W3sieCI6Mjk2LjA2MjUsInkiOjgyfSx7IngiOjMzMy41NjI1LCJ5Ijo4Mn0seyJ4IjozNzEuMDYyNSwieSI6ODJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M631.063,82L637.313,82C643.563,82,656.063,82,667.896,82C679.729,82,690.896,82,696.479,82L702.063,82" id="L_KS_HF_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_KS_HF_0" data-points="W3sieCI6NjMxLjA2MjUsInkiOjgyfSx7IngiOjY2OC41NjI1LCJ5Ijo4Mn0seyJ4Ijo3MDYuMDYyNSwieSI6ODJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_VS_KS_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g class="label" data-id="L_KS_HF_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default data" id="flowchart-VS-13" transform="translate(170.78125, 82)"><rect class="basic label-container" style="fill:#10B981 !important;stroke:#047857 !important" x="-125.28125" y="-27" width="250.5625" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-95.28125, -12)"><rect/><foreignObject width="190.5625" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Vector Search\n(Semantic)</p></span></div></foreignObject></g></g><g class="node default data" id="flowchart-KS-14" transform="translate(501.0625, 82)"><rect class="basic label-container" style="fill:#10B981 !important;stroke:#047857 !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Keyword Search\n(BM25/Sparse)</p></span></div></foreignObject></g></g><g class="node default data" id="flowchart-HF-15" transform="translate(836.0625, 82)"><rect class="basic label-container" style="fill:#10B981 !important;stroke:#047857 !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Hybrid Fusion\n(RRF/Linear)</p></span></div></foreignObject></g></g></g></g><g class="node default client" id="flowchart-Q-0" transform="translate(505.78125, 35)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-51.1953125" y="-27" width="102.390625" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-21.1953125, -12)"><rect/><foreignObject width="42.390625" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Query</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-QExp-2" transform="translate(273.7265625, 139)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-89.1171875" y="-27" width="178.234375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-59.1171875, -12)"><rect/><foreignObject width="118.234375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Query Expansion</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-QEmb-4" transform="translate(505.78125, 139)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-92.9375" y="-27" width="185.875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-62.9375, -12)"><rect/><foreignObject width="125.875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Query Embedding</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-QRew-6" transform="translate(736.203125, 139)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-87.484375" y="-27" width="174.96875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-57.484375, -12)"><rect/><foreignObject width="114.96875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Query Rewriting</p></span></div></foreignObject></g></g></g></g></g></svg>