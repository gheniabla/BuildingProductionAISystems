<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 959.758px; background-color: transparent;" viewBox="0 0 959.7578125 1806" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .client&gt;*{fill:#3B82F6!important;stroke:#1D4ED8!important;color:#FFFFFF!important;}#my-svg .client span{fill:#3B82F6!important;stroke:#1D4ED8!important;color:#FFFFFF!important;}#my-svg .client tspan{fill:#FFFFFF!important;}#my-svg .gateway&gt;*{fill:#EF4444!important;stroke:#B91C1C!important;color:#FFFFFF!important;}#my-svg .gateway span{fill:#EF4444!important;stroke:#B91C1C!important;color:#FFFFFF!important;}#my-svg .gateway tspan{fill:#FFFFFF!important;}#my-svg .service&gt;*{fill:#4F46E5!important;stroke:#3730A3!important;color:#FFFFFF!important;}#my-svg .service span{fill:#4F46E5!important;stroke:#3730A3!important;color:#FFFFFF!important;}#my-svg .service tspan{fill:#FFFFFF!important;}#my-svg .data&gt;*{fill:#10B981!important;stroke:#047857!important;color:#FFFFFF!important;}#my-svg .data span{fill:#10B981!important;stroke:#047857!important;color:#FFFFFF!important;}#my-svg .data tspan{fill:#FFFFFF!important;}#my-svg .external&gt;*{fill:#F59E0B!important;stroke:#D97706!important;color:#FFFFFF!important;}#my-svg .external span{fill:#F59E0B!important;stroke:#D97706!important;color:#FFFFFF!important;}#my-svg .external tspan{fill:#FFFFFF!important;}#my-svg .observability&gt;*{fill:#8B5CF6!important;stroke:#6D28D9!important;color:#FFFFFF!important;}#my-svg .observability span{fill:#8B5CF6!important;stroke:#6D28D9!important;color:#FFFFFF!important;}#my-svg .observability tspan{fill:#FFFFFF!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M821.758,1475L821.758,1495.667C821.758,1516.333,821.758,1557.667,821.758,1582.5C821.758,1607.333,821.758,1615.667,821.758,1619.833L821.758,1624" id="L_RB_Triggers_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RB_Triggers_0" data-points="W3sieCI6ODIxLjc1NzgxMjUsInkiOjE0NzV9LHsieCI6ODIxLjc1NzgxMjUsInkiOjE1OTl9LHsieCI6ODIxLjc1NzgxMjUsInkiOjE2MjR9XQ=="/><path d="M492.243,388L488.081,394.167C483.918,400.333,475.594,412.667,471.432,424.333C467.27,436,467.27,447,467.27,452.5L467.27,458" id="L_P1_P2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P1_P2_0" data-points="W3sieCI6NDkyLjI0Mjg3NTgyNTk5MTIsInkiOjM4OH0seyJ4Ijo0NjcuMjY5NTMxMjUsInkiOjQyNX0seyJ4Ijo0NjcuMjY5NTMxMjUsInkiOjQ2Mn1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M335.021,818L330.439,824.167C325.858,830.333,316.695,842.667,312.113,854.333C307.531,866,307.531,877,307.531,882.5L307.531,888" id="L_P2_P3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P2_P3_0" data-points="W3sieCI6MzM1LjAyMTA5Mzc1LCJ5Ijo4MTh9LHsieCI6MzA3LjUzMTI1LCJ5Ijo4NTV9LHsieCI6MzA3LjUzMTI1LCJ5Ijo4OTJ9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M287.739,1248L287.053,1254.167C286.368,1260.333,284.996,1272.667,284.311,1284.333C283.625,1296,283.625,1307,283.625,1312.5L283.625,1318" id="L_P3_P4_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P3_P4_0" data-points="W3sieCI6Mjg3LjczOTA5ODgzNzIwOTMsInkiOjEyNDh9LHsieCI6MjgzLjYyNSwieSI6MTI4NX0seyJ4IjoyODMuNjI1LCJ5IjoxMzIyfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M816.612,388L822.977,394.167C829.343,400.333,842.074,412.667,848.439,454.667C854.805,496.667,854.805,568.333,854.805,640C854.805,711.667,854.805,783.333,854.805,855C854.805,926.667,854.805,998.333,854.805,1070C854.805,1141.667,854.805,1213.333,850.342,1271.18C845.879,1329.027,836.953,1373.053,832.49,1395.066L828.027,1417.08" id="L_P1_RB_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P1_RB_0" data-points="W3sieCI6ODE2LjYxMTUwODgxMDU3MjcsInkiOjM4OH0seyJ4Ijo4NTQuODA0Njg3NSwieSI6NDI1fSx7IngiOjg1NC44MDQ2ODc1LCJ5Ijo2NDB9LHsieCI6ODU0LjgwNDY4NzUsInkiOjg1NX0seyJ4Ijo4NTQuODA0Njg3NSwieSI6MTA3MH0seyJ4Ijo4NTQuODA0Njg3NSwieSI6MTI4NX0seyJ4Ijo4MjcuMjMxODM0NzM5MjYzOCwieSI6MTQyMX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M647.585,818L653.832,824.167C660.079,830.333,672.573,842.667,678.82,884.667C685.066,926.667,685.066,998.333,685.066,1070C685.066,1141.667,685.066,1213.333,703.646,1271.323C722.226,1329.312,759.386,1373.623,777.966,1395.779L796.545,1417.935" id="L_P2_RB_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P2_RB_0" data-points="W3sieCI6NjQ3LjU4NTA4MzU3NTU4MTQsInkiOjgxOH0seyJ4Ijo2ODUuMDY2NDA2MjUsInkiOjg1NX0seyJ4Ijo2ODUuMDY2NDA2MjUsInkiOjEwNzB9LHsieCI6Njg1LjA2NjQwNjI1LCJ5IjoxMjg1fSx7IngiOjc5OS4xMTU2Nzc3MjIzOTI3LCJ5IjoxNDIxfV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M474.167,1248L479.94,1254.167C485.713,1260.333,497.259,1272.667,545.959,1301.192C594.66,1329.717,680.516,1374.435,723.444,1396.794L766.371,1419.152" id="L_P3_RB_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P3_RB_0" data-points="W3sieCI6NDc0LjE2NjkzMzEzOTUzNDksInkiOjEyNDh9LHsieCI6NTA4LjgwNDY4NzUsInkiOjEyODV9LHsieCI6NzY5LjkxODk1MTMwMzY4MSwieSI6MTQyMX1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_RB_Triggers_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(467.26953125, 425)"><g class="label" data-id="L_P1_P2_0" transform="translate(-14.765625, -12)"><foreignObject width="29.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Pass</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(307.53125, 855)"><g class="label" data-id="L_P2_P3_0" transform="translate(-14.765625, -12)"><foreignObject width="29.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Pass</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(283.625, 1285)"><g class="label" data-id="L_P3_P4_0" transform="translate(-14.765625, -12)"><foreignObject width="29.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Pass</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(854.8046875, 855)"><g class="label" data-id="L_P1_RB_0" transform="translate(-13.046875, -12)"><foreignObject width="26.09375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(685.06640625, 1070)"><g class="label" data-id="L_P2_RB_0" transform="translate(-13.046875, -12)"><foreignObject width="26.09375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(616.88616, 1341.29367)"><g class="label" data-id="L_P3_RB_0" transform="translate(-13.046875, -12)"><foreignObject width="26.09375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(0, 1314)"><g class="clusters"><g class="cluster" id="P4" data-look="classic"><rect style="" x="8" y="8" width="551.25" height="252"/><g class="cluster-label" transform="translate(208.2421875, 8)"><foreignObject width="150.765625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>PHASE 4: Full Rollout</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M151.969,70L161.117,70C170.266,70,188.563,70,215.581,70C242.599,70,278.339,70,296.208,70L314.078,70" id="L_T4_N4_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T4_N4_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5Ijo3MH0seyJ4IjoyMDYuODU5Mzc1LCJ5Ijo3MH0seyJ4IjozMTguMDc4MTI1LCJ5Ijo3MH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(206.859375, 70)"><g class="label" data-id="L_T4_N4_0" transform="translate(-17.390625, -12)"><foreignObject width="34.78125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>100%</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default client" id="flowchart-T4-24" transform="translate(98.734375, 70)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-53.234375" y="-27" width="106.46875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-23.234375, -12)"><rect/><foreignObject width="46.46875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Traffic</p></span></div></foreignObject></g></g><g class="node default data" id="flowchart-N4-26" transform="translate(391.75, 70)"><rect class="basic label-container" style="fill:#10B981 !important;stroke:#047857 !important" x="-73.671875" y="-27" width="147.34375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-43.671875, -12)"><rect/><foreignObject width="87.34375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>New Version</p></span></div></foreignObject></g></g><g class="node default observability" id="flowchart-Note4-27" transform="translate(391.75, 186)"><rect class="basic label-container" style="fill:#8B5CF6 !important;stroke:#6D28D9 !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Keep old version 24h\nfor quick rollback</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(28.1015625, 884)"><g class="clusters"><g class="cluster" id="P3" data-look="classic"><rect style="" x="8" y="8" width="542.859375" height="356"/><g class="cluster-label" transform="translate(179.4296875, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PHASE 3: 50/50 Split - 4 hours</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M151.969,95.365L160.418,91.137C168.867,86.91,185.766,78.455,214.93,74.227C244.094,70,285.523,70,306.238,70L326.953,70" id="L_T3_S3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T3_S3_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5Ijo5NS4zNjQ4MDQ5MzEyMTg1Mn0seyJ4IjoyMDIuNjY0MDYyNSwieSI6NzB9LHsieCI6MzMwLjk1MzEyNSwieSI6NzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M151.969,148.635L160.418,152.863C168.867,157.09,185.766,165.545,214.561,169.773C243.357,174,284.049,174,304.396,174L324.742,174" id="L_T3_C3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T3_C3_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5IjoxNDguNjM1MTk1MDY4NzgxNDh9LHsieCI6MjAyLjY2NDA2MjUsInkiOjE3NH0seyJ4IjozMjguNzQyMTg3NSwieSI6MTc0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(202.6640625, 70)"><g class="label" data-id="L_T3_S3_0" transform="translate(-13.1953125, -12)"><foreignObject width="26.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>50%</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(202.6640625, 174)"><g class="label" data-id="L_T3_C3_0" transform="translate(-13.1953125, -12)"><foreignObject width="26.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>50%</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default client" id="flowchart-T3-16" transform="translate(98.734375, 122)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-53.234375" y="-27" width="106.46875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-23.234375, -12)"><rect/><foreignObject width="46.46875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Traffic</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-S3-18" transform="translate(383.359375, 70)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-52.40625" y="-27" width="104.8125" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-22.40625, -12)"><rect/><foreignObject width="44.8125" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Stable</p></span></div></foreignObject></g></g><g class="node default external" id="flowchart-C3-20" transform="translate(383.359375, 174)"><rect class="basic label-container" style="fill:#F59E0B !important;stroke:#D97706 !important" x="-54.6171875" y="-27" width="109.234375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-24.6171875, -12)"><rect/><foreignObject width="49.234375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Canary</p></span></div></foreignObject></g></g><g class="node default observability" id="flowchart-Cr3-21" transform="translate(383.359375, 290)"><rect class="basic label-container" style="fill:#8B5CF6 !important;stroke:#6D28D9 !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Full parity across all metrics</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(187.83984375, 454)"><g class="clusters"><g class="cluster" id="P2" data-look="classic"><rect style="" x="8" y="8" width="542.859375" height="356"/><g class="cluster-label" transform="translate(179.4296875, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PHASE 2: Expanded Canary - 2 hours</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M151.969,95.365L160.418,91.137C168.867,86.91,185.766,78.455,214.93,74.227C244.094,70,285.523,70,306.238,70L326.953,70" id="L_T2_S2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T2_S2_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5Ijo5NS4zNjQ4MDQ5MzEyMTg1Mn0seyJ4IjoyMDIuNjY0MDYyNSwieSI6NzB9LHsieCI6MzMwLjk1MzEyNSwieSI6NzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M151.969,148.635L160.418,152.863C168.867,157.09,185.766,165.545,214.561,169.773C243.357,174,284.049,174,304.396,174L324.742,174" id="L_T2_C2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T2_C2_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5IjoxNDguNjM1MTk1MDY4NzgxNDh9LHsieCI6MjAyLjY2NDA2MjUsInkiOjE3NH0seyJ4IjozMjguNzQyMTg3NSwieSI6MTc0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(202.6640625, 70)"><g class="label" data-id="L_T2_S2_0" transform="translate(-13.1953125, -12)"><foreignObject width="26.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>90%</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(202.6640625, 174)"><g class="label" data-id="L_T2_C2_0" transform="translate(-13.1953125, -12)"><foreignObject width="26.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>10%</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default client" id="flowchart-T2-8" transform="translate(98.734375, 122)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-53.234375" y="-27" width="106.46875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-23.234375, -12)"><rect/><foreignObject width="46.46875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Traffic</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-S2-10" transform="translate(383.359375, 70)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-52.40625" y="-27" width="104.8125" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-22.40625, -12)"><rect/><foreignObject width="44.8125" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Stable</p></span></div></foreignObject></g></g><g class="node default external" id="flowchart-C2-12" transform="translate(383.359375, 174)"><rect class="basic label-container" style="fill:#F59E0B !important;stroke:#D97706 !important" x="-54.6171875" y="-27" width="109.234375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-24.6171875, -12)"><rect/><foreignObject width="49.234375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Canary</p></span></div></foreignObject></g></g><g class="node default observability" id="flowchart-Cr2-13" transform="translate(383.359375, 290)"><rect class="basic label-container" style="fill:#8B5CF6 !important;stroke:#6D28D9 !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>same + user_satisfaction &gt;= stable</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(341.0546875, 0)"><g class="clusters"><g class="cluster" id="P1" data-look="classic"><rect style="" x="8" y="8" width="542.859375" height="380"/><g class="cluster-label" transform="translate(179.4296875, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PHASE 1: Initial Canary - 1 hour</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M151.969,95.365L160.418,91.137C168.867,86.91,185.766,78.455,214.93,74.227C244.094,70,285.523,70,306.238,70L326.953,70" id="L_T1_S1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T1_S1_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5Ijo5NS4zNjQ4MDQ5MzEyMTg1Mn0seyJ4IjoyMDIuNjY0MDYyNSwieSI6NzB9LHsieCI6MzMwLjk1MzEyNSwieSI6NzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M151.969,148.635L160.418,152.863C168.867,157.09,185.766,165.545,214.561,169.773C243.357,174,284.049,174,304.396,174L324.742,174" id="L_T1_C1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T1_C1_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5IjoxNDguNjM1MTk1MDY4NzgxNDh9LHsieCI6MjAyLjY2NDA2MjUsInkiOjE3NH0seyJ4IjozMjguNzQyMTg3NSwieSI6MTc0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(202.6640625, 70)"><g class="label" data-id="L_T1_S1_0" transform="translate(-13.1953125, -12)"><foreignObject width="26.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>99%</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(202.6640625, 174)"><g class="label" data-id="L_T1_C1_0" transform="translate(-9, -12)"><foreignObject width="18" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>1%</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default client" id="flowchart-T1-0" transform="translate(98.734375, 122)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-53.234375" y="-27" width="106.46875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-23.234375, -12)"><rect/><foreignObject width="46.46875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Traffic</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-S1-2" transform="translate(383.359375, 70)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-52.40625" y="-27" width="104.8125" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-22.40625, -12)"><rect/><foreignObject width="44.8125" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Stable</p></span></div></foreignObject></g></g><g class="node default external" id="flowchart-C1-4" transform="translate(383.359375, 174)"><rect class="basic label-container" style="fill:#F59E0B !important;stroke:#D97706 !important" x="-54.6171875" y="-27" width="109.234375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-24.6171875, -12)"><rect/><foreignObject width="49.234375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Canary</p></span></div></foreignObject></g></g><g class="node default observability" id="flowchart-Cr1-5" transform="translate(383.359375, 302)"><rect class="basic label-container" style="fill:#8B5CF6 !important;stroke:#6D28D9 !important" x="-130" y="-51" width="260" height="102"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -36)"><rect/><foreignObject width="200" height="72"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>error_rate &lt; 0.1%\nlatency_p99 &lt; 2x stable</p></span></div></foreignObject></g></g></g></g><g class="node default gateway" id="flowchart-RB-29" transform="translate(821.7578125, 1448)"><rect class="basic label-container" style="fill:#EF4444 !important;stroke:#B91C1C !important" x="-109.96875" y="-27" width="219.9375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-79.96875, -12)"><rect/><foreignObject width="159.9375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>AUTOMATIC ROLLBACK</p></span></div></foreignObject></g></g><g class="node default gateway" id="flowchart-Triggers-35" transform="translate(821.7578125, 1711)"><rect class="basic label-container" style="fill:#EF4444 !important;stroke:#B91C1C !important" x="-130" y="-87" width="260" height="174"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -72)"><rect/><foreignObject width="200" height="144"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Error rate &gt; 1%\np99 latency &gt; 3x baseline\nCost per request &gt; 2x baseline\nQuality score drops &gt; 10%\nManual trigger from on-call</p></span></div></foreignObject></g></g></g></g></g></svg>