<svg id="my-svg" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="flowchart" style="max-width: 921.086px; background-color: transparent;" viewBox="0 0 921.0859375 1782" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#my-svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#my-svg .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#my-svg .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#my-svg .error-icon{fill:#552222;}#my-svg .error-text{fill:#552222;stroke:#552222;}#my-svg .edge-thickness-normal{stroke-width:1px;}#my-svg .edge-thickness-thick{stroke-width:3.5px;}#my-svg .edge-pattern-solid{stroke-dasharray:0;}#my-svg .edge-thickness-invisible{stroke-width:0;fill:none;}#my-svg .edge-pattern-dashed{stroke-dasharray:3;}#my-svg .edge-pattern-dotted{stroke-dasharray:2;}#my-svg .marker{fill:#333333;stroke:#333333;}#my-svg .marker.cross{stroke:#333333;}#my-svg svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#my-svg p{margin:0;}#my-svg .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#my-svg .cluster-label text{fill:#333;}#my-svg .cluster-label span{color:#333;}#my-svg .cluster-label span p{background-color:transparent;}#my-svg .label text,#my-svg span{fill:#333;color:#333;}#my-svg .node rect,#my-svg .node circle,#my-svg .node ellipse,#my-svg .node polygon,#my-svg .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#my-svg .rough-node .label text,#my-svg .node .label text,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-anchor:middle;}#my-svg .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#my-svg .rough-node .label,#my-svg .node .label,#my-svg .image-shape .label,#my-svg .icon-shape .label{text-align:center;}#my-svg .node.clickable{cursor:pointer;}#my-svg .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#my-svg .arrowheadPath{fill:#333333;}#my-svg .edgePath .path{stroke:#333333;stroke-width:2.0px;}#my-svg .flowchart-link{stroke:#333333;fill:none;}#my-svg .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#my-svg .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#my-svg .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#my-svg .cluster text{fill:#333;}#my-svg .cluster span{color:#333;}#my-svg div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#my-svg .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#my-svg rect.text{fill:none;stroke-width:0;}#my-svg .icon-shape,#my-svg .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#my-svg .icon-shape p,#my-svg .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#my-svg .icon-shape rect,#my-svg .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#my-svg .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#my-svg .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#my-svg :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#my-svg .client&gt;*{fill:#3B82F6!important;stroke:#1D4ED8!important;color:#FFFFFF!important;}#my-svg .client span{fill:#3B82F6!important;stroke:#1D4ED8!important;color:#FFFFFF!important;}#my-svg .client tspan{fill:#FFFFFF!important;}#my-svg .gateway&gt;*{fill:#EF4444!important;stroke:#B91C1C!important;color:#FFFFFF!important;}#my-svg .gateway span{fill:#EF4444!important;stroke:#B91C1C!important;color:#FFFFFF!important;}#my-svg .gateway tspan{fill:#FFFFFF!important;}#my-svg .service&gt;*{fill:#4F46E5!important;stroke:#3730A3!important;color:#FFFFFF!important;}#my-svg .service span{fill:#4F46E5!important;stroke:#3730A3!important;color:#FFFFFF!important;}#my-svg .service tspan{fill:#FFFFFF!important;}#my-svg .data&gt;*{fill:#10B981!important;stroke:#047857!important;color:#FFFFFF!important;}#my-svg .data span{fill:#10B981!important;stroke:#047857!important;color:#FFFFFF!important;}#my-svg .data tspan{fill:#FFFFFF!important;}#my-svg .external&gt;*{fill:#F59E0B!important;stroke:#D97706!important;color:#FFFFFF!important;}#my-svg .external span{fill:#F59E0B!important;stroke:#D97706!important;color:#FFFFFF!important;}#my-svg .external tspan{fill:#FFFFFF!important;}#my-svg .observability&gt;*{fill:#8B5CF6!important;stroke:#6D28D9!important;color:#FFFFFF!important;}#my-svg .observability span{fill:#8B5CF6!important;stroke:#6D28D9!important;color:#FFFFFF!important;}#my-svg .observability tspan{fill:#FFFFFF!important;}</style><g><marker id="my-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="my-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><g class="root"><g class="clusters"/><g class="edgePaths"><path d="M783.086,1451L783.086,1471.667C783.086,1492.333,783.086,1533.667,783.086,1558.5C783.086,1583.333,783.086,1591.667,783.086,1595.833L783.086,1600" id="L_RB_Triggers_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_RB_Triggers_0" data-points="W3sieCI6NzgzLjA4NTkzNzUsInkiOjE0NTF9LHsieCI6NzgzLjA4NTkzNzUsInkiOjE1NzV9LHsieCI6NzgzLjA4NTkzNzUsInkiOjE2MDB9XQ=="/><path d="M467.855,364L463.461,370.167C459.066,376.333,450.277,388.667,445.883,400.333C441.488,412,441.488,423,441.488,428.5L441.488,434" id="L_P1_P2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P1_P2_0" data-points="W3sieCI6NDY3Ljg1NTQ4NjkxODYwNDY0LCJ5IjozNjR9LHsieCI6NDQxLjQ4ODI4MTI1LCJ5Ijo0MDF9LHsieCI6NDQxLjQ4ODI4MTI1LCJ5Ijo0Mzh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M309.24,794L304.658,800.167C300.077,806.333,290.913,818.667,286.332,830.333C281.75,842,281.75,853,281.75,858.5L281.75,864" id="L_P2_P3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P2_P3_0" data-points="W3sieCI6MzA5LjIzOTg0Mzc1LCJ5Ijo3OTR9LHsieCI6MjgxLjc1LCJ5Ijo4MzF9LHsieCI6MjgxLjc1LCJ5Ijo4Njh9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M261.958,1224L261.272,1230.167C260.586,1236.333,259.215,1248.667,258.529,1260.333C257.844,1272,257.844,1283,257.844,1288.5L257.844,1294" id="L_P3_P4_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P3_P4_0" data-points="W3sieCI6MjYxLjk1Nzg0ODgzNzIwOTMsInkiOjEyMjR9LHsieCI6MjU3Ljg0Mzc1LCJ5IjoxMjYxfSx7IngiOjI1Ny44NDM3NSwieSI6MTI5OH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M778.026,364L784.377,370.167C790.728,376.333,803.431,388.667,809.782,430.667C816.133,472.667,816.133,544.333,816.133,616C816.133,687.667,816.133,759.333,816.133,831C816.133,902.667,816.133,974.333,816.133,1046C816.133,1117.667,816.133,1189.333,811.67,1247.18C807.207,1305.027,798.281,1349.053,793.818,1371.066L789.355,1393.08" id="L_P1_RB_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P1_RB_0" data-points="W3sieCI6Nzc4LjAyNjMwODEzOTUzNDksInkiOjM2NH0seyJ4Ijo4MTYuMTMyODEyNSwieSI6NDAxfSx7IngiOjgxNi4xMzI4MTI1LCJ5Ijo2MTZ9LHsieCI6ODE2LjEzMjgxMjUsInkiOjgzMX0seyJ4Ijo4MTYuMTMyODEyNSwieSI6MTA0Nn0seyJ4Ijo4MTYuMTMyODEyNSwieSI6MTI2MX0seyJ4Ijo3ODguNTU5OTU5NzM5MjYzOCwieSI6MTM5N31d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M611.132,794L617.009,800.167C622.886,806.333,634.64,818.667,640.517,860.667C646.395,902.667,646.395,974.333,646.395,1046C646.395,1117.667,646.395,1189.333,664.974,1247.323C683.554,1305.312,720.714,1349.623,739.294,1371.779L757.874,1393.935" id="L_P2_RB_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P2_RB_0" data-points="W3sieCI6NjExLjEzMTU5NTIwMzQ4ODQsInkiOjc5NH0seyJ4Ijo2NDYuMzk0NTMxMjUsInkiOjgzMX0seyJ4Ijo2NDYuMzk0NTMxMjUsInkiOjEwNDZ9LHsieCI6NjQ2LjM5NDUzMTI1LCJ5IjoxMjYxfSx7IngiOjc2MC40NDM4MDI3MjIzOTI3LCJ5IjoxMzk3fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M437.713,1224L443.117,1230.167C448.52,1236.333,459.326,1248.667,507.657,1277.192C555.988,1305.717,641.844,1350.435,684.772,1372.794L727.699,1395.152" id="L_P3_RB_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_P3_RB_0" data-points="W3sieCI6NDM3LjcxMzQ0NDc2NzQ0MTg0LCJ5IjoxMjI0fSx7IngiOjQ3MC4xMzI4MTI1LCJ5IjoxMjYxfSx7IngiOjczMS4yNDcwNzYzMDM2ODEsInkiOjEzOTd9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_RB_Triggers_0" transform="translate(0, 0)"><foreignObject width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(441.48828125, 401)"><g class="label" data-id="L_P1_P2_0" transform="translate(-14.765625, -12)"><foreignObject width="29.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Pass</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(281.75, 831)"><g class="label" data-id="L_P2_P3_0" transform="translate(-14.765625, -12)"><foreignObject width="29.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Pass</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(257.84375, 1261)"><g class="label" data-id="L_P3_P4_0" transform="translate(-14.765625, -12)"><foreignObject width="29.53125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Pass</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(816.1328125, 831)"><g class="label" data-id="L_P1_RB_0" transform="translate(-13.046875, -12)"><foreignObject width="26.09375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(646.39453125, 1046)"><g class="label" data-id="L_P2_RB_0" transform="translate(-13.046875, -12)"><foreignObject width="26.09375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(578.87478, 1317.63768)"><g class="label" data-id="L_P3_RB_0" transform="translate(-13.046875, -12)"><foreignObject width="26.09375" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>Fail</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="root" transform="translate(0, 1290)"><g class="clusters"><g class="cluster" id="P4" data-look="classic"><rect style="" x="8" y="8" width="499.6875" height="252"/><g class="cluster-label" transform="translate(182.4609375, 8)"><foreignObject width="150.765625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel"><p>PHASE 4: Full Rollout</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M151.969,70L161.117,70C170.266,70,188.563,70,211.284,70C234.005,70,261.151,70,274.724,70L288.297,70" id="L_T4_N4_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T4_N4_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5Ijo3MH0seyJ4IjoyMDYuODU5Mzc1LCJ5Ijo3MH0seyJ4IjoyOTIuMjk2ODc1LCJ5Ijo3MH1d" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(206.859375, 70)"><g class="label" data-id="L_T4_N4_0" transform="translate(-17.390625, -12)"><foreignObject width="34.78125" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>100%</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default client" id="flowchart-T4-24" transform="translate(98.734375, 70)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-53.234375" y="-27" width="106.46875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-23.234375, -12)"><rect/><foreignObject width="46.46875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Traffic</p></span></div></foreignObject></g></g><g class="node default data" id="flowchart-N4-26" transform="translate(365.96875, 70)"><rect class="basic label-container" style="fill:#10B981 !important;stroke:#047857 !important" x="-73.671875" y="-27" width="147.34375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-43.671875, -12)"><rect/><foreignObject width="87.34375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>New Version</p></span></div></foreignObject></g></g><g class="node default observability" id="flowchart-Note4-27" transform="translate(365.96875, 186)"><rect class="basic label-container" style="fill:#8B5CF6 !important;stroke:#6D28D9 !important" x="-104.21875" y="-39" width="208.4375" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-74.21875, -24)"><rect/><foreignObject width="148.4375" height="48"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Keep old version 24h<br />for quick rollback</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(2.3203125, 860)"><g class="clusters"><g class="cluster" id="P3" data-look="classic"><rect style="" x="8" y="8" width="542.859375" height="356"/><g class="cluster-label" transform="translate(179.4296875, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PHASE 3: 50/50 Split - 4 hours</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M151.969,95.365L160.418,91.137C168.867,86.91,185.766,78.455,214.93,74.227C244.094,70,285.523,70,306.238,70L326.953,70" id="L_T3_S3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T3_S3_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5Ijo5NS4zNjQ4MDQ5MzEyMTg1Mn0seyJ4IjoyMDIuNjY0MDYyNSwieSI6NzB9LHsieCI6MzMwLjk1MzEyNSwieSI6NzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M151.969,148.635L160.418,152.863C168.867,157.09,185.766,165.545,214.561,169.773C243.357,174,284.049,174,304.396,174L324.742,174" id="L_T3_C3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T3_C3_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5IjoxNDguNjM1MTk1MDY4NzgxNDh9LHsieCI6MjAyLjY2NDA2MjUsInkiOjE3NH0seyJ4IjozMjguNzQyMTg3NSwieSI6MTc0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(202.6640625, 70)"><g class="label" data-id="L_T3_S3_0" transform="translate(-13.1953125, -12)"><foreignObject width="26.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>50%</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(202.6640625, 174)"><g class="label" data-id="L_T3_C3_0" transform="translate(-13.1953125, -12)"><foreignObject width="26.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>50%</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default client" id="flowchart-T3-16" transform="translate(98.734375, 122)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-53.234375" y="-27" width="106.46875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-23.234375, -12)"><rect/><foreignObject width="46.46875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Traffic</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-S3-18" transform="translate(383.359375, 70)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-52.40625" y="-27" width="104.8125" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-22.40625, -12)"><rect/><foreignObject width="44.8125" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Stable</p></span></div></foreignObject></g></g><g class="node default external" id="flowchart-C3-20" transform="translate(383.359375, 174)"><rect class="basic label-container" style="fill:#F59E0B !important;stroke:#D97706 !important" x="-54.6171875" y="-27" width="109.234375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-24.6171875, -12)"><rect/><foreignObject width="49.234375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Canary</p></span></div></foreignObject></g></g><g class="node default observability" id="flowchart-Cr3-21" transform="translate(383.359375, 290)"><rect class="basic label-container" style="fill:#8B5CF6 !important;stroke:#6D28D9 !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Full parity across all metrics</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(162.05859375, 430)"><g class="clusters"><g class="cluster" id="P2" data-look="classic"><rect style="" x="8" y="8" width="542.859375" height="356"/><g class="cluster-label" transform="translate(179.4296875, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PHASE 2: Expanded Canary - 2 hours</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M151.969,95.365L160.418,91.137C168.867,86.91,185.766,78.455,214.93,74.227C244.094,70,285.523,70,306.238,70L326.953,70" id="L_T2_S2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T2_S2_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5Ijo5NS4zNjQ4MDQ5MzEyMTg1Mn0seyJ4IjoyMDIuNjY0MDYyNSwieSI6NzB9LHsieCI6MzMwLjk1MzEyNSwieSI6NzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M151.969,148.635L160.418,152.863C168.867,157.09,185.766,165.545,214.561,169.773C243.357,174,284.049,174,304.396,174L324.742,174" id="L_T2_C2_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T2_C2_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5IjoxNDguNjM1MTk1MDY4NzgxNDh9LHsieCI6MjAyLjY2NDA2MjUsInkiOjE3NH0seyJ4IjozMjguNzQyMTg3NSwieSI6MTc0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(202.6640625, 70)"><g class="label" data-id="L_T2_S2_0" transform="translate(-13.1953125, -12)"><foreignObject width="26.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>90%</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(202.6640625, 174)"><g class="label" data-id="L_T2_C2_0" transform="translate(-13.1953125, -12)"><foreignObject width="26.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>10%</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default client" id="flowchart-T2-8" transform="translate(98.734375, 122)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-53.234375" y="-27" width="106.46875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-23.234375, -12)"><rect/><foreignObject width="46.46875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Traffic</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-S2-10" transform="translate(383.359375, 70)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-52.40625" y="-27" width="104.8125" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-22.40625, -12)"><rect/><foreignObject width="44.8125" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Stable</p></span></div></foreignObject></g></g><g class="node default external" id="flowchart-C2-12" transform="translate(383.359375, 174)"><rect class="basic label-container" style="fill:#F59E0B !important;stroke:#D97706 !important" x="-54.6171875" y="-27" width="109.234375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-24.6171875, -12)"><rect/><foreignObject width="49.234375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Canary</p></span></div></foreignObject></g></g><g class="node default observability" id="flowchart-Cr2-13" transform="translate(383.359375, 290)"><rect class="basic label-container" style="fill:#8B5CF6 !important;stroke:#6D28D9 !important" x="-130" y="-39" width="260" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -24)"><rect/><foreignObject width="200" height="48"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>same + user_satisfaction &gt;= stable</p></span></div></foreignObject></g></g></g></g><g class="root" transform="translate(330.4296875, 0)"><g class="clusters"><g class="cluster" id="P1" data-look="classic"><rect style="" x="8" y="8" width="512.546875" height="356"/><g class="cluster-label" transform="translate(164.2734375, 8)"><foreignObject width="200" height="48"><div xmlns="http://www.w3.org/1999/xhtml" style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;"><span class="nodeLabel"><p>PHASE 1: Initial Canary - 1 hour</p></span></div></foreignObject></g></g></g><g class="edgePaths"><path d="M151.969,95.365L160.418,91.137C168.867,86.91,185.766,78.455,212.404,74.227C239.042,70,275.419,70,293.608,70L311.797,70" id="L_T1_S1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T1_S1_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5Ijo5NS4zNjQ4MDQ5MzEyMTg1Mn0seyJ4IjoyMDIuNjY0MDYyNSwieSI6NzB9LHsieCI6MzE1Ljc5Njg3NSwieSI6NzB9XQ==" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/><path d="M151.969,148.635L160.418,152.863C168.867,157.09,185.766,165.545,212.035,169.773C238.305,174,273.945,174,291.766,174L309.586,174" id="L_T1_C1_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_T1_C1_0" data-points="W3sieCI6MTUxLjk2ODc1LCJ5IjoxNDguNjM1MTk1MDY4NzgxNDh9LHsieCI6MjAyLjY2NDA2MjUsInkiOjE3NH0seyJ4IjozMTMuNTg1OTM3NSwieSI6MTc0fV0=" marker-end="url(#my-svg_flowchart-v2-pointEnd)"/></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(202.6640625, 70)"><g class="label" data-id="L_T1_S1_0" transform="translate(-13.1953125, -12)"><foreignObject width="26.390625" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>99%</p></span></div></foreignObject></g></g><g class="edgeLabel" transform="translate(202.6640625, 174)"><g class="label" data-id="L_T1_C1_0" transform="translate(-9, -12)"><foreignObject width="18" height="24"><div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"><p>1%</p></span></div></foreignObject></g></g></g><g class="nodes"><g class="node default client" id="flowchart-T1-0" transform="translate(98.734375, 122)"><rect class="basic label-container" style="fill:#3B82F6 !important;stroke:#1D4ED8 !important" x="-53.234375" y="-27" width="106.46875" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-23.234375, -12)"><rect/><foreignObject width="46.46875" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Traffic</p></span></div></foreignObject></g></g><g class="node default service" id="flowchart-S1-2" transform="translate(368.203125, 70)"><rect class="basic label-container" style="fill:#4F46E5 !important;stroke:#3730A3 !important" x="-52.40625" y="-27" width="104.8125" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-22.40625, -12)"><rect/><foreignObject width="44.8125" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Stable</p></span></div></foreignObject></g></g><g class="node default external" id="flowchart-C1-4" transform="translate(368.203125, 174)"><rect class="basic label-container" style="fill:#F59E0B !important;stroke:#D97706 !important" x="-54.6171875" y="-27" width="109.234375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-24.6171875, -12)"><rect/><foreignObject width="49.234375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Canary</p></span></div></foreignObject></g></g><g class="node default observability" id="flowchart-Cr1-5" transform="translate(368.203125, 290)"><rect class="basic label-container" style="fill:#8B5CF6 !important;stroke:#6D28D9 !important" x="-114.84375" y="-39" width="229.6875" height="78"/><g class="label" style="color:#FFFFFF !important" transform="translate(-84.84375, -24)"><rect/><foreignObject width="169.6875" height="48"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>error_rate &lt; 0.1%<br />latency_p99 &lt; 2x stable</p></span></div></foreignObject></g></g></g></g><g class="node default gateway" id="flowchart-RB-29" transform="translate(783.0859375, 1424)"><rect class="basic label-container" style="fill:#EF4444 !important;stroke:#B91C1C !important" x="-109.96875" y="-27" width="219.9375" height="54"/><g class="label" style="color:#FFFFFF !important" transform="translate(-79.96875, -12)"><rect/><foreignObject width="159.9375" height="24"><div style="color: rgb(255, 255, 255) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>AUTOMATIC ROLLBACK</p></span></div></foreignObject></g></g><g class="node default gateway" id="flowchart-Triggers-35" transform="translate(783.0859375, 1687)"><rect class="basic label-container" style="fill:#EF4444 !important;stroke:#B91C1C !important" x="-130" y="-87" width="260" height="174"/><g class="label" style="color:#FFFFFF !important" transform="translate(-100, -72)"><rect/><foreignObject width="200" height="144"><div style="color: rgb(255, 255, 255) !important; display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span style="color:#FFFFFF !important" class="nodeLabel"><p>Error rate &gt; 1%<br />p99 latency &gt; 3x baseline<br />Cost per request &gt; 2x baseline<br />Quality score drops &gt; 10%<br />Manual trigger from on-call</p></span></div></foreignObject></g></g></g></g></g></svg>